#   技术原理

思路来源于[wxdown](https://github.com/systemmin/wxdown)项目

目前微信公众号支持在web中打开[标签](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=Mzg2MzcyODQ5MQ==&action=getalbum&album_id=3845871143212695552&subscene=21&scenenote=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzg2MzcyODQ5MQ%3D%3D%26mid%3D2247492968%26idx%3D1%26sn%3D038c14a5aa0176688ea59fc70200e528%26scene%3D21%26subscene%3D10000%26sessionid%3D1751742350%26clicktime%3D1751742417%26enterid%3D1751742417%26ascene%3D56%26fasttmpl_type%3D0%26fasttmpl_fullversion%3D7805417-zh_CN-zip%26fasttmpl_flag%3D0%26realreporttime%3D1751742417256%26devicetype%3Dandroid-35%26version%3D28003d34%26nettype%3DWIFI%26abtest_cookie%3DAAACAA%253D%253D%26lang%3Dzh_CN%26countrycode%3DCN%26exportkey%3Dn_ChQIAhIQBz%252B57KV%252B3jGgWc7F6F5MzBLbAQIE97dBBAEAAAAAAOJQNwpmY60AAAAOpnltbLcz9gKNyK89dVj0VQwm6FwUE3z6HhAHh50BKVI2sTm7H%252BJm7UDxZgNoOrvVpbcOxM%252FEXNT%252FN0%252FSNzXEWltUTC24kpr7Gia9PgOTDYGgS7GVEbEDsjXtYe5j7LvffAZj0r9kWCijCUNccfjPKQJm7BstaTMFOV9ogvQR%252BGOK2VYy%252F7HZ3nCnUh%252FW1OLrjE9F%252BP8G6ov2SyGSMzDkH30YIiLtgNKV83HhfK4GQJqf2v2uhX%252F4fHvK7c2ZLlJtHWb8IQ%253D%253D%26pass_ticket%3DxrXM965wzcoonUQR5x4FujV3sv5S1tVrUBepmNXPDpqUtEUUl8m4njyEEYQfgRhN%26wx_header%3D3&nolastread=1#wechat_redirect), 然后可以找到对应文章列表且无需登录。

那剩下的就是将html转化为epub即可。



curl 'https://weread.qq.com/web/book/outline' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: zh-CN,zh;q=0.9,en;q=0.8' \
  -H 'baggage: sentry-environment=production,sentry-release=dev-1751625650715,sentry-public_key=ed67ed71f7804a038e898ba54bd66e44,sentry-trace_id=b9dd068473b74374b4865e83eb96ca02' \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json;charset=UTF-8' \
  -b 'RK=mdPAN7qTFB; ptcz=8f11e5c7702c123da76a980fae9776ad600f89a8de682d6d0a64ade19541b9aa; pac_uid=0_xRwksPk8Z8E95; _qimei_uuid42=18906150d1a10079f73fb3f1dc85ba7ab44a6574ea; _qimei_fingerprint=31f46a2f872620ee2c28569a6efcac7d; _qimei_h38=8f950d04f73fb3f1dc85ba7a02000007218906; pgv_pvid=8801435199; _qimei_q32=aa8b5755beb27c0db7c6fc652da48883; _qimei_q36=d8d466d3c3bb047f44f48f3830001f618907; ETCI=cf886f46d4bb483a92b759d9699adaf2; qq_domain_video_guid_verify=df13e03c1c03f569; tvfe_boss_uuid=a4989f8dace0276a; _clck=1xxlj8c|1|fwx|0; wr_gid=276469730; wr_fp=2209158835; wr_skey=J65JmJPI; wr_vid=17000248; wr_rt=web%40WGAUUzQIQEMUgoPq_Te_AL; wr_localvid=15f322707103673815f24c8; wr_name=%E5%A7%9A%E6%B3%BD%E6%BA%90; wr_avatar=https%3A%2F%2Fthirdwx.qlogo.cn%2Fmmopen%2Fvi_32%2F8OPzdpDraQNMRibmBYDj889gjJ77icbkbc8UfJ6AicrYDufuNia72OqYnMJ8PKzibOJ09wRPYePnn2lHUiaGEWqiagp5AKC1bYuzPZGaxXOR7n8Qqk%2F132; wr_gender=1' \
  -H 'dnt: 1' \
  -H 'origin: https://weread.qq.com' \
  -H 'pragma: no-cache' \
  -H 'priority: u=1, i' \
  -H 'referer: https://weread.qq.com/web/reader/c96326f0718602e5c9679f9' \
  -H 'sec-ch-ua: "Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "Windows"' \
  -H 'sec-fetch-dest: empty' \
  -H 'sec-fetch-mode: cors' \
  -H 'sec-fetch-site: same-origin' \
  -H 'sentry-trace: b9dd068473b74374b4865e83eb96ca02-9940121be4ee0846' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36' \
  -H 'x-wrpa-0: ebce05d8010e678281114e87e17346169d67043ae87b64ee46cdd83591b4c9e04184ac2aac31686fa8baee9b747246ace59964643dc5a06f37d204214e212995,SypeUER0bnNlVsOzRMKow7gXNigMwp7DjsOBwoXCjTkgwoHDlsODwotBwrTCp8KiM8OZJHzDm8OZwpMnw7vClcKtSEhaeMKnwqZ+T8KdwqHCjlIqw5TDkypLwrLCpsKnw5/CmMOnwrTCosOmWjM7w5UdwrDCuEJ0w7RzSnvDiz0awojCrMKIwptXC8KNwrrDkVEow73DuSpRwqzCoMOAw78SQ3rDvMOiwr3CuC7CgcK9w54HEldQAcKKNlMLSMKWJCDDgcKAwrLCkwDDo8KHKErCtEQ6BGLCq2EFw7tBwqcpU8K1w5TCjzzDtkfDkgbDijAFDHNjwp16wq9qw4MIYQRIWMKAw4dhdcKqFMO/RRtoKzjDj3wYQsK0U2TCo3bCnsOuIF5sw53DpsK7AsO8TDDDosKYw415OsKSVAt7w6XCig8BPMOCw6bDpcKcw6DCtsOyYMKfcGJ0ScK7MsOpVXnDjsKsZRQCwrlVWV92w5xTw5/CqXILwq8YN8OnFB3C,rMKew77DhMO2X8OZwonCjkUodA9CHMOGw5fDklvDu8OCUcOAwrLChcOewpTDosODH8KUBsKAwoDDjMOKwrLDl33DmjPCr8K4UEQbGnQzw6rDjF0iVXojw4BBBMKjEVxswqTDv8KBw6gOw6JCw4fCoMKhw6liJcOxQlxWwrB1wpsHwpVwwpPCncOEw6JVASfDmzfChnMC' \
  --data-raw '{"bookId":"1714210224d505f5758535f333531333635353836381bc"}'



  curl 'https://weread.qq.com/web/book/chapterInfos' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'accept-language: zh-CN,zh;q=0.9,en;q=0.8' \
  -H 'baggage: sentry-environment=production,sentry-release=dev-1751625650715,sentry-public_key=ed67ed71f7804a038e898ba54bd66e44,sentry-trace_id=b9dd068473b74374b4865e83eb96ca02' \
  -H 'cache-control: no-cache' \
  -H 'content-type: application/json;charset=UTF-8' \
  -b 'RK=mdPAN7qTFB; ptcz=8f11e5c7702c123da76a980fae9776ad600f89a8de682d6d0a64ade19541b9aa; pac_uid=0_xRwksPk8Z8E95; _qimei_uuid42=18906150d1a10079f73fb3f1dc85ba7ab44a6574ea; _qimei_fingerprint=31f46a2f872620ee2c28569a6efcac7d; _qimei_h38=8f950d04f73fb3f1dc85ba7a02000007218906; pgv_pvid=8801435199; _qimei_q32=aa8b5755beb27c0db7c6fc652da48883; _qimei_q36=d8d466d3c3bb047f44f48f3830001f618907; ETCI=cf886f46d4bb483a92b759d9699adaf2; qq_domain_video_guid_verify=df13e03c1c03f569; tvfe_boss_uuid=a4989f8dace0276a; _clck=1xxlj8c|1|fwx|0; wr_gid=276469730; wr_fp=2209158835; wr_skey=J65JmJPI; wr_vid=17000248; wr_rt=web%40WGAUUzQIQEMUgoPq_Te_AL; wr_localvid=15f322707103673815f24c8; wr_name=%E5%A7%9A%E6%B3%BD%E6%BA%90; wr_avatar=https%3A%2F%2Fthirdwx.qlogo.cn%2Fmmopen%2Fvi_32%2F8OPzdpDraQNMRibmBYDj889gjJ77icbkbc8UfJ6AicrYDufuNia72OqYnMJ8PKzibOJ09wRPYePnn2lHUiaGEWqiagp5AKC1bYuzPZGaxXOR7n8Qqk%2F132; wr_gender=1' \
  -H 'dnt: 1' \
  -H 'origin: https://weread.qq.com' \
  -H 'pragma: no-cache' \
  -H 'priority: u=1, i' \
  -H 'referer: https://weread.qq.com/web/reader/c96326f0718602e5c9679f9' \
  -H 'sec-ch-ua: "Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "Windows"' \
  -H 'sec-fetch-dest: empty' \
  -H 'sec-fetch-mode: cors' \
  -H 'sec-fetch-site: same-origin' \
  -H 'sentry-trace: b9dd068473b74374b4865e83eb96ca02-9940121be4ee0846' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36' \
  -H 'x-wrpa-0: 0c6e056ea2292213088dafef26e6e3cd1800343e7929fce177e1ea5bfc498dba20a7354b08e3cc793b46aa17e0a87f6f2a04cfa53a98a2275f7edfb7466738ea,YTVrdFBGZkFlVsOzRMKow7gXNigMwp7CoXUXwo05w7pUYjvCi0HCtMKnw4hXw51of8Olw6PCksO+wq5AScKWb8KDEMKnwqZ+T8KdwqHCjlIqw5TDk0XCv8KgwqbCp8K1wq3Ds8K8wqLDplozUcKxFcKwwrhCdMO0GRVOwq/Ds33DoXTCiMKbVwvCjcK6w5FRKMO9w7lFwqXCvsKgw4DClSdXcsO8w6LCvcK4BMKlwrXDngcSV1Brw5UDN8OFL2puIMOBwoDCssKTAMOjwofDssKuTEQ6BGLCq8K7wpAPecKnKWZHw5TCjzzDtkfDkgbDisOqasKZwojCqUhWwrVqw4MIYQRIWMKAHcOFTcKqFMO/RRtoKzjDj3wYd0ZTZMKjdsKew64gXsOcV2dIw6IcRELDosKYw415OsKSVAvCoUHCsg9rCcOWw67DpcKcw6DCtsOyYMKqQmJ0ScK7MsOpVXl+w7bDpMK4w7YrbUtfdsOcU8OfwqnCpxnCrxg3w6fD,jsKIWMKmw77DhMO2AMONw7vCjkUodA9CHMOGw5fDksKBw4VLw700IMK9w4zClMOiw4MfwpQGFRLDjMOKwrLDl8KnT8OHwpfCuFBECQ4VBcOpw5h0MQp6DsO1HzvCt8OkQXvClsONw7vDqA3DsRrDkMKwEjBhG8OqUGBewqx8wpo5wrdvwoTCv8O1wr9CKyjChzXChU0C' \
  --data-raw '{"bookIds":["1714210224d505f5758535f333531333635353836381bc"]}'